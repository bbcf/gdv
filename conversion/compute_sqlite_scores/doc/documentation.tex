\documentclass[11pt]{report}
% Use utf-8 encoding for foreign characters
\usepackage[utf8]{inputenc}
% Setup for fullpage use
\usepackage{fullpage}
%style pour les chapitres
\usepackage{titlesec}
\titleformat{\chapter}[hang]{\bf\huge}{\thechapter}{2pc}{}
%Le style de la bibliographie
\bibliographystyle{plain}
% Surround parts of graphics with box
\usepackage{boxedminipage}
% Package for including code in the document
\usepackage{listings}
% If you want to generate a toc for each chapter (use with book)
\usepackage{minitoc}
%for the use of appendices
\usepackage[toc,page]{appendix}
%change label of appendices
\renewcommand{\appendixpagename}{Annexes}
%for the maths
\usepackage{amssymb,amsmath}
%for inclusion of programmation code
\usepackage{listings}
% \lstinputlisting{code/main.java}
% This is now the recommended way for checking for PDFLaTeX:
\usepackage{ifpdf}
\ifpdf
\usepackage[pdftex,colorlinks=true,
                       pdfstartview=FitV,
                       linkcolor=blue,
                       citecolor=blue,
                       urlcolor=blue,
           ]{hyperref}
\usepackage[pdftex]{graphicx}
\else
\usepackage{graphicx}
\fi
%subfigure package
\usepackage{subfigure}
%wraping figure package
\usepackage{wrapfig}
%on francise les sections principales
\usepackage[english]{babel}
%\renewcommand{\abstractname}{\color{blue}r√©sum√©}
%une commande perso
\newcommand{\keyw}[1]{{\em #1}}

%pour num√©roter jusqu'au subsection
\setcounter{secnumdepth}{3}

\begin{document}
%%\maketitle
\ifpdf
\DeclareGraphicsExtensions{.pdf, .jpg, .tif, .JPG}
\else
\DeclareGraphicsExtensions{.eps, .jpg}
\fi
%title section if \maketitle is commented




\begin{titlepage}

\centering
\huge{
Documentation\\-\\
\vspace{80mm}
	\textbf{compute SQLite databases\\ -\\ for each zoom level in GDV\\}
	}
\vspace{75mm}
\Large{Yohan JAROSZ}\\\large{Ecole Polytechnique Fédérale de Lausanne \\
Bioinformatics and Biostatistics Core Facility\\
Sybit developer}

\end{titlepage}


\begin{abstract}
This project is intended to be a Daemon (it will run in background). It will takes scores from a SQLite database BBCF formatted representing values for an assembly (score along the genome for different chromosomes) and calculate scores for different zoom level. In result, there will be one new SQLite database for each zoom level per chromosomes
\end{abstract}

\newpage
\tableofcontents
\newpage

\chapter{Project}\label{c:project}

The project is available on \href{github}{https://github.com/bbcf/gdv/conversion/compute\_sqlite\_scores/} 

\section{Compiling}\label{s:compile}
Just download project then run :
\begin{verbatim}
cd {project directory}
ant jar
\end{verbatim}
You should obtain something like :
\begin{verbatim}
:$ ant jar
Buildfile: {project directory}/build.xml

clean:
   [delete] Deleting directory {project directory}/bin

init:
    [mkdir] Created dir: {project directory}/bin
     [copy] Copying 3 files to {project directory}/bin

compile:
     [echo] conversion: {project directory}build.xml
    [javac] Compiling 13 source files to{project directory}/bin

jar:
      [jar] Building jar: {project directory}/compute_to_sqlite.jar

BUILD SUCCESSFUL
Total time: 2 seconds
\end{verbatim}
This will result in the file \textit{compute\_to\_sqlite.jar}


\section{Configuration}\label{s:configuration}
There is a configuration file under project\_directory/conf : conf.yaml
which contains two parameters :  \\\\
- path to a temporary directory (cannot be .)
	(tmp\_directory)  files will be writed in that directory then erased
	\\\\
- an url if you want feedback (feedback\_url) like http://myServer.com/jbrowse/post
see \ref{s:post} for more.

\section{Running}\label{s:running}
There is two scripts in project\_directory (start.sh \& stop.sh).\\\\
Update them with changing the paths to where you put the project.\\\\
You can now launch \& stop the daemon.
\section{Logging}\label{s:loggin}
A file \textit{compute\_scores.log} is created to log \& debug the processing.
\section{Libraries}\label{s:libs}
Some libraries are needed in order to run the daemon.
You can put them in your classpath and change a bit build.xml if you want.
\section{Post parameters}\label{s:post}
This section will describe feedback provided by the daemon with HTTP/POST.\\\\
The feedback URL is the one in the configuration file (\ref{s:configuration})\\\\
Parameters are :
 \begin{description}
		\item[id] : "track\_status"
		\item[track\_id] : an identifier for the process
		\item[mess] : a message (can be "computing","a percentage of completion" or "completed") 
\end{description}

Errors are not send and should be added in the next version.

\section{Warning}\label{s:warning}
this daemon handle lots of files simultaneously and can resulting with errors (cannot write,read or copy more files during process).\\\\
 You should increases the limit for the user which handle this process 
\begin{verbatim}
$ulimit -Hn
$cat /etc/security/limits.conf
\end{verbatim}
40960 is a nice value.
\end{document}
